import { intersection } from 'lodash-es';
export class CurrentUser {
    constructor(username, userKind, displayName) {
        this.username = username;
        this.userKind = userKind;
        this.displayName = displayName;
        this.roles = [];
    }
    addRole(roleName) {
        if (!roleName)
            throw new Error('role name cannot be empty');
        this.roles.push(roleName);
        return this;
    }
    hasRole(roleNames) {
        return intersection(this.roles, roleNames).length > 0;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ3VycmVudFVzZXIuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4vcHJvamVjdHMvdXNlci1saWIvc3JjLyIsInNvdXJjZXMiOlsibGliL21vZGVscy9DdXJyZW50VXNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBU3pDLE1BQU0sT0FBTyxXQUFXO0lBT3RCLFlBQVksUUFBZ0IsRUFBRSxRQUFnQixFQUFFLFdBQW1CO1FBQ2pFLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFTSxPQUFPLENBQUMsUUFBZ0I7UUFDN0IsSUFBSSxDQUFDLFFBQVE7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0sT0FBTyxDQUFDLFNBQW1CO1FBQ2hDLE9BQU8sWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUN4RCxDQUFDO0NBRUYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnRlcnNlY3Rpb24gfSBmcm9tICdsb2Rhc2gtZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDdXJyZW50VXNlciB7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHVzZXJLaW5kOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIHJvbGVzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIEN1cnJlbnRVc2VyIGltcGxlbWVudHMgSUN1cnJlbnRVc2VyIHtcblxuICBwdWJsaWMgdXNlcm5hbWU6IHN0cmluZztcbiAgcHVibGljIHVzZXJLaW5kOiBzdHJpbmc7XG4gIHB1YmxpYyBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICBwdWJsaWMgcm9sZXM6IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKHVzZXJuYW1lOiBzdHJpbmcsIHVzZXJLaW5kOiBzdHJpbmcsIGRpc3BsYXlOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgdGhpcy51c2VyS2luZCA9IHVzZXJLaW5kO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgICB0aGlzLnJvbGVzID0gW107XG4gIH1cblxuICBwdWJsaWMgYWRkUm9sZShyb2xlTmFtZTogc3RyaW5nKTogQ3VycmVudFVzZXIge1xuICAgIGlmICghcm9sZU5hbWUpIHRocm93IG5ldyBFcnJvcigncm9sZSBuYW1lIGNhbm5vdCBiZSBlbXB0eScpO1xuICAgIHRoaXMucm9sZXMucHVzaChyb2xlTmFtZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgaGFzUm9sZShyb2xlTmFtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbih0aGlzLnJvbGVzLCByb2xlTmFtZXMpLmxlbmd0aCA+IDA7XG4gIH1cblxufSJdfQ==